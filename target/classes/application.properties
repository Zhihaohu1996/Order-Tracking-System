server.port=8080

# ==== MySQL ====
# If you do NOT use env vars, just keep the default values below.
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/order_tracking_auth?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${DB_USER:root}
# 建议通过环境变量 DB_PASSWORD 指定数据库密码（Windows 可在 IntelliJ Run Configuration 里设置）。
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==== Flyway ====
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
# If your schema is not empty but you don't have flyway_schema_history, uncomment:
# spring.flyway.baseline-on-migrate=true

# ==== JPA ====
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ==== Uploads (order photos) ====
# Stored under the project working directory by default.
app.upload.dir=uploads

spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

# ==== Auth / Login (Spring Security session) ====
# First start will auto-create an admin user if it doesn't exist.
# You can override via env vars BOOTSTRAP_ADMIN_USER / BOOTSTRAP_ADMIN_PASSWORD.
app.bootstrap.admin.username=${BOOTSTRAP_ADMIN_USER:admin}
app.bootstrap.admin.password=${BOOTSTRAP_ADMIN_PASSWORD}
app.bootstrap.admin.role=${BOOTSTRAP_ADMIN_ROLE:GM}
